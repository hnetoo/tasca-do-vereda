<<<<<<< HEAD
# ðŸŽ¨ VISUAL ARCHITECTURE - Mobile & Biometric Integration

## ðŸ—ï¸ Arquitetura Geral do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TASCA DO VEREDA - APP                        â”‚
â”‚                    React 18 + TypeScript                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Routes   â”‚ â”‚ useStore  â”‚ â”‚Integration â”‚
        â”‚  (config/) â”‚ â”‚ (core)    â”‚ â”‚   Module   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”¬â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚            â”‚             â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Mobile â”‚  â”‚Developerâ”‚  â”‚ Biometric â”‚  â”‚  API  â”‚
    â”‚Dashboard  â”‚ Settings â”‚  â”‚ Service   â”‚  â”‚Serviceâ”‚
    â”‚(pages/)   â”‚ (pages/) â”‚  â”‚(services/)   â”‚(svc/) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Types    â”‚  â”‚ Webhooks  â”‚  â”‚ Logs   â”‚
    â”‚(types.ts)   â”‚ (System)  â”‚  â”‚(Store) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŒ Fluxo de Dados - Biometric Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Biometric Device        â”‚
â”‚  (Fingerprint/Facial)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
      [Clock Event]
            â”‚
            â”œâ”€ Polling (5 min) â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                          â”‚
            â””â”€ Webhook (Real-time) â”€â”€â”€â”¤
                                      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BiometricIntegrationService   â”‚
â”‚  (services/biometricService.ts)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ processBiometricEvent()           â”‚
    â”‚ 1. Find Employee by externalBioIdâ”‚
    â”‚ 2. Create/Update AttendanceRecordâ”‚
    â”‚ 3. Calculate metrics             â”‚
    â”‚    - isLate, lateMinutes         â”‚
    â”‚    - totalHours                  â”‚
    â”‚    - overtimeHours               â”‚
    â”‚ 4. Link with Finance             â”‚
    â”‚ 5. Log Integration Event         â”‚
    â”‚ 6. Trigger Webhooks              â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    â”‚              â”‚             â”‚
    â–¼                    â–¼              â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Attendance    â”‚  â”‚Finance/    â”‚  â”‚Webhook  â”‚  â”‚Logs      â”‚
â”‚Record        â”‚  â”‚Payroll     â”‚  â”‚System   â”‚  â”‚(Audit)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“± Fluxo de Dados - Mobile Access

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Owner      â”‚
â”‚ (on Mobile)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Login
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create MobileSession       â”‚
â”‚  - Token (24h expiry)       â”‚
â”‚  - Device tracking          â”‚
â”‚  - IP address               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ GET /mobile-dashboard
         â”‚ Header: Bearer token
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MobileDashboard Component        â”‚
â”‚ (pages/MobileDashboard.tsx)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
         â”‚                       â”‚
    useStore()            Auto-refresh 10s
         â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                       â”‚
    â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Real-time    â”‚    â”‚ 4 Tabs           â”‚
â”‚ KPI Cards    â”‚    â”‚ - Vendas         â”‚
â”‚ - Faturamento   â”‚ - Pedidos        â”‚
â”‚ - Pedidos       â”‚ - Equipa         â”‚
â”‚ - Equipa        â”‚ - AnÃ¡lise        â”‚
â”‚ - Loyalty       â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ‘¨â€ðŸ’» Fluxo de Dados - Developer Portal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /developer-settings               â”‚
â”‚  (pages/DeveloperSettings.tsx)     â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
    â”‚        â”‚          â”‚     â”‚
    â”‚        â”‚          â”‚     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ API  â”‚ â”‚WebHookâ”‚ â”‚Devices  â”‚Logs â”‚ â”‚Docs â”‚
â”‚Keys  â”‚ â”‚Config â”‚ â”‚Bio.    â”‚      â”‚      â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
    â”‚       â”‚          â”‚    â”‚
    â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”
    â”‚   â”‚                      â”‚
    â–¼   â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useIntegrations()   â”‚ IntegrationLogs  â”‚
â”‚ - generateAPIKey   â”‚ - View all events â”‚
â”‚ - addWebhook       â”‚ - Filter by type  â”‚
â”‚ - registerDevice   â”‚ - See errors      â”‚
â”‚ - testConnection   â”‚ - Audit trail     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”Œ REST API Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         External Application             â”‚
â”‚       (POS, Accounting, etc)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ HTTP Request
             â”‚ Authorization: Bearer + Secret
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IntegrationAPIService                  â”‚
â”‚   (services/integrationAPIService.ts)    â”‚
â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  GET /dashboard/summary         â”‚   â”‚
â”‚   â”‚  GET /orders                    â”‚   â”‚
â”‚   â”‚  POST /orders                   â”‚   â”‚
â”‚   â”‚  GET /customers                 â”‚   â”‚
â”‚   â”‚  POST /customers                â”‚   â”‚
â”‚   â”‚  GET /analytics/summary         â”‚   â”‚
â”‚   â”‚  GET /attendance                â”‚   â”‚
â”‚   â”‚  POST /attendance/clock-in      â”‚   â”‚
â”‚   â”‚  POST /attendance/clock-out     â”‚   â”‚
â”‚   â”‚  POST /biometric/webhook        â”‚   â”‚
â”‚   â”‚  GET /inventory                 â”‚   â”‚
â”‚   â”‚  POST /expenses                 â”‚   â”‚
â”‚   â”‚  GET /health                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Return JSON
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Application Response Handler   â”‚
â”‚  - Process data                          â”‚
â”‚  - Update local database                 â”‚
â”‚  - Notify user                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Webhook Event Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Event          â”‚
â”‚  - order.created       â”‚
â”‚  - attendance.clockin  â”‚
â”‚  - payment.completed   â”‚
â”‚  - inventory.low       â”‚
â”‚  - customer.registered â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check Webhook Configuration   â”‚
â”‚  (from store/integrationsModule)
â”‚  - Find webhooks listening to  â”‚
â”‚    this event                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  â”‚          â”‚
    â–¼                  â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Webhook1 â”‚      â”‚Webhook2 â”‚  â”‚Webhook3  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚  â”‚             â”‚
     â”‚  â”‚ POST JSON   â”‚
     â”‚  â”‚ With headersâ”‚
     â”‚  â”‚             â”‚
     â–¼  â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Webhook Handler    â”‚
â”‚  (Your Server Endpoint)      â”‚
â”‚                              â”‚
â”‚  1. Validate headers         â”‚
â”‚  2. Process data             â”‚
â”‚  3. Return 200 OK (< 30s)   â”‚
â”‚  4. Log event                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Log result   â”‚
     â”‚ in system    â”‚
     â”‚ (success/fail)
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer Portal        â”‚
â”‚  /developer-settings     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      [Generate API Key]
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Create Random     â”‚
    â”‚  sk_live_xxxxx     â”‚
    â”‚  secret_xxxxx      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Show once!
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Developer copies  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Uses in request headers
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  HTTP Request                      â”‚
    â”‚  Headers:                          â”‚
    â”‚  Authorization: Bearer sk_live_xxx â”‚
    â”‚  X-API-Secret: secret_xxx          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Server validates              â”‚
    â”‚  1. Check sk_live_ prefix      â”‚
    â”‚  2. Check secret_xxxxx         â”‚
    â”‚  3. Check scopes               â”‚
    â”‚  4. Check rate limit           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ Authorized   â”‚ Rejected  â”‚
    â”‚ Process req  â”‚ Return 401â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ˆ Data Flow - Complete Picture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Mobile Device   â”‚  â”‚  Biometric Deviceâ”‚  â”‚ External APIâ”‚  â”‚
â”‚  â”‚  (Owner)         â”‚  â”‚  (Fingerprint)   â”‚  â”‚  (3rd party)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                     â”‚                  â”‚          â”‚
â”‚           â”‚ Session             â”‚ Clock Event      â”‚ Request  â”‚
â”‚           â”‚ Token               â”‚ Webhook          â”‚ API Key  â”‚
â”‚           â”‚                     â”‚                  â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              React Application (Browser)                â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  MobileDashboard + DeveloperSettings          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - View real-time data                        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Manage integrations                        â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                       â”‚                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Services Layer                               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - BiometricIntegrationService                â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - IntegrationAPIService                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - IntegrationsModule (Zustand)               â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                       â”‚                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Store (useStore + useIntegrations)          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Orders, Customers, Employees              â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Attendance, Finance, Analytics            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - API Keys, Webhooks, Logs                  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                     â”‚                  â”‚        â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚             â”‚
                    â–¼             â–¼             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Mobile       â”‚  â”‚Biometric â”‚  â”‚ Webhook  â”‚
            â”‚ Attendance   â”‚  â”‚ Events   â”‚  â”‚ Events   â”‚
            â”‚ Real-time    â”‚  â”‚ Auto-    â”‚  â”‚ External â”‚
            â”‚ KPIs         â”‚  â”‚ calculate   â”‚ Systems  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ Component Interaction Diagram

```
App.tsx
  â”‚
  â”œâ”€ Routes (config/routes.tsx)
  â”‚  â”‚
  â”‚  â”œâ”€ /mobile-dashboard
  â”‚  â”‚  â”‚
  â”‚  â”‚  â””â”€ MobileDashboard.tsx
  â”‚  â”‚     â”œâ”€ useStore (read-only)
  â”‚  â”‚     â”‚  â”œâ”€ activeOrders
  â”‚  â”‚     â”‚  â”œâ”€ employees
  â”‚  â”‚     â”‚  â”œâ”€ attendance
  â”‚  â”‚     â”‚  â””â”€ analytics
  â”‚  â”‚     â”‚
  â”‚  â”‚     â”œâ”€ Hooks
  â”‚  â”‚     â”‚  â””â”€ useState, useEffect
  â”‚  â”‚     â”‚
  â”‚  â”‚     â””â”€ Components
  â”‚  â”‚        â”œâ”€ Header
  â”‚  â”‚        â”œâ”€ KPI Cards
  â”‚  â”‚        â”œâ”€ Tabs
  â”‚  â”‚        â””â”€ FAB
  â”‚  â”‚
  â”‚  â””â”€ /developer-settings
  â”‚     â”‚
  â”‚     â””â”€ DeveloperSettings.tsx
  â”‚        â”œâ”€ useStore (read orders, customers)
  â”‚        â”œâ”€ useIntegrations (manage API)
  â”‚        â”‚  â”œâ”€ generateAPIKey()
  â”‚        â”‚  â”œâ”€ addWebhook()
  â”‚        â”‚  â”œâ”€ registerBiometricDevice()
  â”‚        â”‚  â”œâ”€ triggerWebhook()
  â”‚        â”‚  â””â”€ processBiometricWebhook()
  â”‚        â”‚
  â”‚        â””â”€ Components
  â”‚           â”œâ”€ Tab 1: API Keys
  â”‚           â”œâ”€ Tab 2: Webhooks
  â”‚           â”œâ”€ Tab 3: Devices
  â”‚           â”œâ”€ Tab 4: Logs
  â”‚           â””â”€ Tab 5: Docs
  â”‚
  â””â”€ Services
     â”œâ”€ biometricService.ts
     â”‚  â””â”€ BiometricIntegrationService
     â”‚     â”œâ”€ registerDevice()
     â”‚     â”œâ”€ syncDevice()
     â”‚     â”œâ”€ processBiometricEvent()
     â”‚     â””â”€ handleWebhookEvent()
     â”‚
     â””â”€ integrationAPIService.ts
        â””â”€ IntegrationAPIService
           â”œâ”€ getDashboardSummary()
           â”œâ”€ getOrders()
           â”œâ”€ createOrder()
           â”œâ”€ getCustomers()
           â”œâ”€ getAnalytics()
           â”œâ”€ getAttendance()
           â”œâ”€ clockIn()
           â”œâ”€ clockOut()
           â”œâ”€ sendBiometricEvent()
           â””â”€ [...19 more endpoints]

Store
  â”œâ”€ useStore (core)
  â”‚  â”œâ”€ Orders
  â”‚  â”œâ”€ Customers
  â”‚  â”œâ”€ Employees
  â”‚  â”œâ”€ Attendance
  â”‚  â”œâ”€ Finance
  â”‚  â””â”€ Analytics
  â”‚
  â””â”€ useIntegrations (extension)
     â”œâ”€ apiKeys[]
     â”œâ”€ webhookConfigs[]
     â”œâ”€ biometricDevices[]
     â”œâ”€ integrationLogs[]
     â””â”€ mobileSessions[]
```

---

## ðŸ”„ State Management Flow

```
User Action
    â”‚
    â–¼
Component dispatches
    â”‚
    â”œâ”€ useStore action
    â”‚  â”‚
    â”‚  â–¼
    â”‚  Store updates state
    â”‚  â”‚
    â”‚  â””â”€ Zustand persist to localStorage
    â”‚
    â””â”€ useIntegrations action
       â”‚
       â–¼
       Integration Module updates
       â”‚
       â”œâ”€ API Keys
       â”œâ”€ Webhooks
       â”œâ”€ Devices
       â”œâ”€ Logs
       â””â”€ Sessions
       â”‚
       â””â”€ Persist to localStorage

UI Re-renders with new data
```

---

**VisualizaÃ§Ã£o criada para facilitar entendimento da arquitetura!** ðŸŽ¨

=======
# ðŸŽ¨ VISUAL ARCHITECTURE - Mobile & Biometric Integration

## ðŸ—ï¸ Arquitetura Geral do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TASCA DO VEREDA - APP                        â”‚
â”‚                    React 18 + TypeScript                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Routes   â”‚ â”‚ useStore  â”‚ â”‚Integration â”‚
        â”‚  (config/) â”‚ â”‚ (core)    â”‚ â”‚   Module   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”¬â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚            â”‚             â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Mobile â”‚  â”‚Developerâ”‚  â”‚ Biometric â”‚  â”‚  API  â”‚
    â”‚Dashboard  â”‚ Settings â”‚  â”‚ Service   â”‚  â”‚Serviceâ”‚
    â”‚(pages/)   â”‚ (pages/) â”‚  â”‚(services/)   â”‚(svc/) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Types    â”‚  â”‚ Webhooks  â”‚  â”‚ Logs   â”‚
    â”‚(types.ts)   â”‚ (System)  â”‚  â”‚(Store) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŒ Fluxo de Dados - Biometric Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Biometric Device        â”‚
â”‚  (Fingerprint/Facial)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
      [Clock Event]
            â”‚
            â”œâ”€ Polling (5 min) â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                          â”‚
            â””â”€ Webhook (Real-time) â”€â”€â”€â”¤
                                      â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BiometricIntegrationService   â”‚
â”‚  (services/biometricService.ts)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ processBiometricEvent()           â”‚
    â”‚ 1. Find Employee by externalBioIdâ”‚
    â”‚ 2. Create/Update AttendanceRecordâ”‚
    â”‚ 3. Calculate metrics             â”‚
    â”‚    - isLate, lateMinutes         â”‚
    â”‚    - totalHours                  â”‚
    â”‚    - overtimeHours               â”‚
    â”‚ 4. Link with Finance             â”‚
    â”‚ 5. Log Integration Event         â”‚
    â”‚ 6. Trigger Webhooks              â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    â”‚              â”‚             â”‚
    â–¼                    â–¼              â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Attendance    â”‚  â”‚Finance/    â”‚  â”‚Webhook  â”‚  â”‚Logs      â”‚
â”‚Record        â”‚  â”‚Payroll     â”‚  â”‚System   â”‚  â”‚(Audit)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“± Fluxo de Dados - Mobile Access

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Owner      â”‚
â”‚ (on Mobile)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Login
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create MobileSession       â”‚
â”‚  - Token (24h expiry)       â”‚
â”‚  - Device tracking          â”‚
â”‚  - IP address               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ GET /mobile-dashboard
         â”‚ Header: Bearer token
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MobileDashboard Component        â”‚
â”‚ (pages/MobileDashboard.tsx)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
         â”‚                       â”‚
    useStore()            Auto-refresh 10s
         â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                       â”‚
    â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Real-time    â”‚    â”‚ 4 Tabs           â”‚
â”‚ KPI Cards    â”‚    â”‚ - Vendas         â”‚
â”‚ - Faturamento   â”‚ - Pedidos        â”‚
â”‚ - Pedidos       â”‚ - Equipa         â”‚
â”‚ - Equipa        â”‚ - AnÃ¡lise        â”‚
â”‚ - Loyalty       â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ‘¨â€ðŸ’» Fluxo de Dados - Developer Portal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /developer-settings               â”‚
â”‚  (pages/DeveloperSettings.tsx)     â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
    â”‚        â”‚          â”‚     â”‚
    â”‚        â”‚          â”‚     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ API  â”‚ â”‚WebHookâ”‚ â”‚Devices  â”‚Logs â”‚ â”‚Docs â”‚
â”‚Keys  â”‚ â”‚Config â”‚ â”‚Bio.    â”‚      â”‚      â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
    â”‚       â”‚          â”‚    â”‚
    â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”
    â”‚   â”‚                      â”‚
    â–¼   â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useIntegrations()   â”‚ IntegrationLogs  â”‚
â”‚ - generateAPIKey   â”‚ - View all events â”‚
â”‚ - addWebhook       â”‚ - Filter by type  â”‚
â”‚ - registerDevice   â”‚ - See errors      â”‚
â”‚ - testConnection   â”‚ - Audit trail     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”Œ REST API Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         External Application             â”‚
â”‚       (POS, Accounting, etc)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ HTTP Request
             â”‚ Authorization: Bearer + Secret
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IntegrationAPIService                  â”‚
â”‚   (services/integrationAPIService.ts)    â”‚
â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  GET /dashboard/summary         â”‚   â”‚
â”‚   â”‚  GET /orders                    â”‚   â”‚
â”‚   â”‚  POST /orders                   â”‚   â”‚
â”‚   â”‚  GET /customers                 â”‚   â”‚
â”‚   â”‚  POST /customers                â”‚   â”‚
â”‚   â”‚  GET /analytics/summary         â”‚   â”‚
â”‚   â”‚  GET /attendance                â”‚   â”‚
â”‚   â”‚  POST /attendance/clock-in      â”‚   â”‚
â”‚   â”‚  POST /attendance/clock-out     â”‚   â”‚
â”‚   â”‚  POST /biometric/webhook        â”‚   â”‚
â”‚   â”‚  GET /inventory                 â”‚   â”‚
â”‚   â”‚  POST /expenses                 â”‚   â”‚
â”‚   â”‚  GET /health                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Return JSON
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Application Response Handler   â”‚
â”‚  - Process data                          â”‚
â”‚  - Update local database                 â”‚
â”‚  - Notify user                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Webhook Event Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Event          â”‚
â”‚  - order.created       â”‚
â”‚  - attendance.clockin  â”‚
â”‚  - payment.completed   â”‚
â”‚  - inventory.low       â”‚
â”‚  - customer.registered â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check Webhook Configuration   â”‚
â”‚  (from store/integrationsModule)
â”‚  - Find webhooks listening to  â”‚
â”‚    this event                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  â”‚          â”‚
    â–¼                  â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Webhook1 â”‚      â”‚Webhook2 â”‚  â”‚Webhook3  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚  â”‚             â”‚
     â”‚  â”‚ POST JSON   â”‚
     â”‚  â”‚ With headersâ”‚
     â”‚  â”‚             â”‚
     â–¼  â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Webhook Handler    â”‚
â”‚  (Your Server Endpoint)      â”‚
â”‚                              â”‚
â”‚  1. Validate headers         â”‚
â”‚  2. Process data             â”‚
â”‚  3. Return 200 OK (< 30s)   â”‚
â”‚  4. Log event                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Log result   â”‚
     â”‚ in system    â”‚
     â”‚ (success/fail)
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer Portal        â”‚
â”‚  /developer-settings     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      [Generate API Key]
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Create Random     â”‚
    â”‚  sk_live_xxxxx     â”‚
    â”‚  secret_xxxxx      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Show once!
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Developer copies  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Uses in request headers
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  HTTP Request                      â”‚
    â”‚  Headers:                          â”‚
    â”‚  Authorization: Bearer sk_live_xxx â”‚
    â”‚  X-API-Secret: secret_xxx          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Server validates              â”‚
    â”‚  1. Check sk_live_ prefix      â”‚
    â”‚  2. Check secret_xxxxx         â”‚
    â”‚  3. Check scopes               â”‚
    â”‚  4. Check rate limit           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ Authorized   â”‚ Rejected  â”‚
    â”‚ Process req  â”‚ Return 401â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ˆ Data Flow - Complete Picture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Mobile Device   â”‚  â”‚  Biometric Deviceâ”‚  â”‚ External APIâ”‚  â”‚
â”‚  â”‚  (Owner)         â”‚  â”‚  (Fingerprint)   â”‚  â”‚  (3rd party)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                     â”‚                  â”‚          â”‚
â”‚           â”‚ Session             â”‚ Clock Event      â”‚ Request  â”‚
â”‚           â”‚ Token               â”‚ Webhook          â”‚ API Key  â”‚
â”‚           â”‚                     â”‚                  â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              React Application (Browser)                â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  MobileDashboard + DeveloperSettings          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - View real-time data                        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Manage integrations                        â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                       â”‚                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Services Layer                               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - BiometricIntegrationService                â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - IntegrationAPIService                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - IntegrationsModule (Zustand)               â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                       â”‚                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  Store (useStore + useIntegrations)          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Orders, Customers, Employees              â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - Attendance, Finance, Analytics            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - API Keys, Webhooks, Logs                  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                     â”‚                  â”‚        â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚             â”‚
                    â–¼             â–¼             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Mobile       â”‚  â”‚Biometric â”‚  â”‚ Webhook  â”‚
            â”‚ Attendance   â”‚  â”‚ Events   â”‚  â”‚ Events   â”‚
            â”‚ Real-time    â”‚  â”‚ Auto-    â”‚  â”‚ External â”‚
            â”‚ KPIs         â”‚  â”‚ calculate   â”‚ Systems  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ Component Interaction Diagram

```
App.tsx
  â”‚
  â”œâ”€ Routes (config/routes.tsx)
  â”‚  â”‚
  â”‚  â”œâ”€ /mobile-dashboard
  â”‚  â”‚  â”‚
  â”‚  â”‚  â””â”€ MobileDashboard.tsx
  â”‚  â”‚     â”œâ”€ useStore (read-only)
  â”‚  â”‚     â”‚  â”œâ”€ activeOrders
  â”‚  â”‚     â”‚  â”œâ”€ employees
  â”‚  â”‚     â”‚  â”œâ”€ attendance
  â”‚  â”‚     â”‚  â””â”€ analytics
  â”‚  â”‚     â”‚
  â”‚  â”‚     â”œâ”€ Hooks
  â”‚  â”‚     â”‚  â””â”€ useState, useEffect
  â”‚  â”‚     â”‚
  â”‚  â”‚     â””â”€ Components
  â”‚  â”‚        â”œâ”€ Header
  â”‚  â”‚        â”œâ”€ KPI Cards
  â”‚  â”‚        â”œâ”€ Tabs
  â”‚  â”‚        â””â”€ FAB
  â”‚  â”‚
  â”‚  â””â”€ /developer-settings
  â”‚     â”‚
  â”‚     â””â”€ DeveloperSettings.tsx
  â”‚        â”œâ”€ useStore (read orders, customers)
  â”‚        â”œâ”€ useIntegrations (manage API)
  â”‚        â”‚  â”œâ”€ generateAPIKey()
  â”‚        â”‚  â”œâ”€ addWebhook()
  â”‚        â”‚  â”œâ”€ registerBiometricDevice()
  â”‚        â”‚  â”œâ”€ triggerWebhook()
  â”‚        â”‚  â””â”€ processBiometricWebhook()
  â”‚        â”‚
  â”‚        â””â”€ Components
  â”‚           â”œâ”€ Tab 1: API Keys
  â”‚           â”œâ”€ Tab 2: Webhooks
  â”‚           â”œâ”€ Tab 3: Devices
  â”‚           â”œâ”€ Tab 4: Logs
  â”‚           â””â”€ Tab 5: Docs
  â”‚
  â””â”€ Services
     â”œâ”€ biometricService.ts
     â”‚  â””â”€ BiometricIntegrationService
     â”‚     â”œâ”€ registerDevice()
     â”‚     â”œâ”€ syncDevice()
     â”‚     â”œâ”€ processBiometricEvent()
     â”‚     â””â”€ handleWebhookEvent()
     â”‚
     â””â”€ integrationAPIService.ts
        â””â”€ IntegrationAPIService
           â”œâ”€ getDashboardSummary()
           â”œâ”€ getOrders()
           â”œâ”€ createOrder()
           â”œâ”€ getCustomers()
           â”œâ”€ getAnalytics()
           â”œâ”€ getAttendance()
           â”œâ”€ clockIn()
           â”œâ”€ clockOut()
           â”œâ”€ sendBiometricEvent()
           â””â”€ [...19 more endpoints]

Store
  â”œâ”€ useStore (core)
  â”‚  â”œâ”€ Orders
  â”‚  â”œâ”€ Customers
  â”‚  â”œâ”€ Employees
  â”‚  â”œâ”€ Attendance
  â”‚  â”œâ”€ Finance
  â”‚  â””â”€ Analytics
  â”‚
  â””â”€ useIntegrations (extension)
     â”œâ”€ apiKeys[]
     â”œâ”€ webhookConfigs[]
     â”œâ”€ biometricDevices[]
     â”œâ”€ integrationLogs[]
     â””â”€ mobileSessions[]
```

---

## ðŸ”„ State Management Flow

```
User Action
    â”‚
    â–¼
Component dispatches
    â”‚
    â”œâ”€ useStore action
    â”‚  â”‚
    â”‚  â–¼
    â”‚  Store updates state
    â”‚  â”‚
    â”‚  â””â”€ Zustand persist to localStorage
    â”‚
    â””â”€ useIntegrations action
       â”‚
       â–¼
       Integration Module updates
       â”‚
       â”œâ”€ API Keys
       â”œâ”€ Webhooks
       â”œâ”€ Devices
       â”œâ”€ Logs
       â””â”€ Sessions
       â”‚
       â””â”€ Persist to localStorage

UI Re-renders with new data
```

---

**VisualizaÃ§Ã£o criada para facilitar entendimento da arquitetura!** ðŸŽ¨

>>>>>>> b02ffa757d562a9c0bb95b52f8ca9866513460dd
